<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Based Animation</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      height: 4000px; /* Высота страницы для прокрутки */
      overflow-x: hidden;
      background-color: #f0f0f0;
    }

    .section {
      height: 1000px;
      position: relative;
    }

    /* Контейнер блока с анимацией */
    #anim-block {
      position: relative;
      height: 1000px;
      background-color: #fff;
    }

    /* Мембрана */
    .membrane {
      width: 400px;
      height: 50px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/membrane_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Мембрана скрыта по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out;
    }

    /* Молекула */
    .molecule {
      width: 200px;
      height: 200px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/mu_agonist_main.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 60px; /* Начальная позиция молекулы */
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Молекула скрыта по умолчанию */
      transition: top 1s ease-out, opacity 1s ease-out;
    }

    /* Легкие */
    .lungs {
      width: 400px;
      height: 400px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_treat_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Легкие скрыты по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

    /* Интерфероны */
    .interferons {
      width: 300px;
      height: 300px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/interferons_init.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Интерфероны скрыты по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

  </style>
</head>
<body>

  <div class="section">Секция 1</div>
  <div class="section">Секция 2</div>

  <div class="section" id="anim-block">
    <div class="membrane"></div>
    <div class="molecule"></div>
    <div class="lungs"></div>
    <div class="interferons"></div>
  </div>

  <div class="section">Секция 4</div>
  <div class="section">Секция 5</div>
  <div class="section">Секция 6</div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const animBlock = document.getElementById('anim-block');
      const molecule = document.querySelector('.molecule');
      const membrane = document.querySelector('.membrane');
      const lungs = document.querySelector('.lungs');
      const interferons = document.querySelector('.interferons');
      
      let isInView = false; // Флаг для проверки видимости блока

      const options = {
        root: null, // Используем viewport
        rootMargin: "0px",
        threshold: 0.5 // Блок считается видимым, если 50% его содержимого видно
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            isInView = true;
            startAnimation(); // Запуск анимации, когда блок в зоне видимости
          } else {
            isInView = false;
            resetAnimation(); // Сброс анимации, если блок выходит из зоны видимости
          }
        });
      }, options);

      observer.observe(animBlock); // Начинаем отслеживание блока

      // Функция для старта анимации
      function startAnimation() {
        window.addEventListener('scroll', moveElements);
        molecule.style.opacity = '1'; // Показываем молекулу
      }

      // Функция для сброса анимации
      function resetAnimation() {
        window.removeEventListener('scroll', moveElements);
        molecule.style.top = '60px'; // Возвращаем молекулу на начальную позицию
        molecule.style.opacity = '0'; // Скрываем молекулу
        membrane.style.opacity = '0'; // Скрываем мембрану
        lungs.style.opacity = '0'; // Скрываем легкие
        interferons.style.opacity = '0'; // Скрываем интерфероны
        lungs.style.top = '100%';
        lungs.style.left = '50%';
        interferons.style.top = '100%';
        interferons.style.left = '50%';
      }

      // Функция для движения молекулы, мембраны, лёгких и интерферонов при прокрутке
      function moveElements() {
        if (!isInView) return;

        // Получаем текущую прокрутку
        let scrollPosition = window.scrollY;
        let blockTop = animBlock.offsetTop;
        let blockHeight = animBlock.offsetHeight;

        // Проверка, насколько прокручен блок
        let scrollInsideBlock = scrollPosition - blockTop;

        // Если прокрутка находится в пределах блока, то двигаем молекулу и мембрану
        if (scrollInsideBlock >= 0 && scrollInsideBlock <= blockHeight) {
          let percentage = scrollInsideBlock / blockHeight; // Процент прокрутки внутри блока
          let newMoleculeTop = 60 + (percentage * (blockHeight - 60)); // Двигаем молекулу от 60px до нижней границы блока
          molecule.style.top = `${newMoleculeTop}px`;

          // Когда молекула достигает мембраны, начинаем анимацию появления лёгких и интерферонов
          if (newMoleculeTop >= membrane.offsetTop - (membrane.offsetHeight / 2)) {
            membrane.style.opacity = '1'; // Появляется мембрана
            lungs.style.opacity = '1'; // Появляются легкие
            lungs.style.top = '50%'; // Легкие двигаются в середину экрана
            lungs.style.left = '20%'; // Легкие сдвигаются влево
            interferons.style.opacity = '1'; // Появляются интерфероны
            interferons.style.top = '50%'; // Интерфероны двигаются в середину экрана
            interferons.style.left = '80%'; // Интерфероны сдвигаются вправо
          }
        }
      }
    });
  </script>

</body>
</html>




























<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Based Animation</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      height: 4000px; /* Высота страницы для прокрутки */
      overflow-x: hidden;
      background-color: #f0f0f0;
    }

    .section {
      height: 1000px;
      position: relative;
    }

    /* Контейнер блока с анимацией */
    #anim-block {
      position: relative;
      height: 1000px;
      background-color: #fff;
    }

    /* Мембрана (ширина 400px, высота 150px) */
    .membrane {
      width: 400px;
      height: 150px; /* Изменена высота мембраны */
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/membrane_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Мембрана скрыта по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out;
    }

    /* Молекула (ширина 150px) */
    .molecule {
      width: 150px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/mu_agonist_main.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 60px; /* Начальная позиция молекулы */
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Молекула скрыта по умолчанию */
      transition: top 1s ease-out, opacity 1s ease-out;
    }

    /* Легкие */
    .lungs {
      width: 400px;
      height: 400px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_treat_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Легкие скрыты по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

    /* Интерфероны (ширина 400px) */
    .interferons {
      width: 400px; /* Изменена ширина интерферонов */
      height: 300px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/interferons_init.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Интерфероны скрыты по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

  </style>
</head>
<body>

  <div class="section">Секция 1</div>
  <div class="section">Секция 2</div>

  <div class="section" id="anim-block">
    <div class="membrane"></div>
    <div class="molecule"></div>
    <div class="lungs"></div>
    <div class="interferons"></div>
  </div>

  <div class="section">Секция 4</div>
  <div class="section">Секция 5</div>
  <div class="section">Секция 6</div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const animBlock = document.getElementById('anim-block');
      const molecule = document.querySelector('.molecule');
      const membrane = document.querySelector('.membrane');
      const lungs = document.querySelector('.lungs');
      const interferons = document.querySelector('.interferons');
      
      let isInView = false; // Флаг для проверки видимости блока

      const options = {
        root: null, // Используем viewport
        rootMargin: "0px",
        threshold: 0.1 // Блок считается видимым, если 10% его содержимого видно
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            isInView = true;
            startAnimation(); // Запуск анимации, когда блок в зоне видимости
          } else {
            isInView = false;
            resetAnimation(); // Сброс анимации, если блок выходит из зоны видимости
          }
        });
      }, options);

      observer.observe(animBlock); // Начинаем отслеживание блока

      // Функция для старта анимации
      function startAnimation() {
        window.addEventListener('scroll', moveElements);
        molecule.style.opacity = '1'; // Показываем молекулу сразу
      }

      // Функция для сброса анимации
      function resetAnimation() {
        window.removeEventListener('scroll', moveElements);
        molecule.style.top = '60px'; // Возвращаем молекулу на начальную позицию
        molecule.style.opacity = '0'; // Скрываем молекулу
        membrane.style.opacity = '0'; // Скрываем мембрану
        lungs.style.opacity = '0'; // Скрываем легкие
        interferons.style.opacity = '0'; // Скрываем интерфероны
        lungs.style.top = '100%';
        lungs.style.left = '50%';
        interferons.style.top = '100%';
        interferons.style.left = '50%';
      }

      // Функция для движения молекулы, мембраны, лёгких и интерферонов при прокрутке
      function moveElements() {
        if (!isInView) return;

        // Получаем текущую прокрутку
        let scrollPosition = window.scrollY;
        let blockTop = animBlock.offsetTop;
        let blockHeight = animBlock.offsetHeight;

        // Проверка, насколько прокручен блок
        let scrollInsideBlock = scrollPosition - blockTop;

        // Если прокрутка находится в пределах блока, то двигаем молекулу и мембрану
        if (scrollInsideBlock >= 0 && scrollInsideBlock <= blockHeight) {
          let percentage = scrollInsideBlock / blockHeight; // Процент прокрутки внутри блока
          let newMoleculeTop = 60 + (percentage * (blockHeight - 60)); // Двигаем молекулу от 60px до нижней границы блока
          molecule.style.top = `${newMoleculeTop}px`;

          // Появление мембраны сразу при начале прокрутки
          if (newMoleculeTop >= 60) {
            membrane.style.opacity = '1'; // Мембрана появляется
          }

          // Когда молекула внутри мембраны, легкие и интерфероны становятся видимыми
          if (newMoleculeTop >= membrane.offsetTop && newMoleculeTop <= membrane.offsetTop + membrane.offsetHeight) {
            lungs.style.opacity = '1'; // Появляются легкие
            lungs.style.top = '50%'; // Легкие двигаются в середину экрана
            lungs.style.left = '20%'; // Легкие сдвигаются влево

            interferons.style.opacity = '1'; // Появляются интерфероны
            interferons.style.top = '50%'; // Интерфероны двигаются в середину экрана
            interferons.style.left = '80%'; // Интерфероны сдвигаются вправо
          } else {
            lungs.style.opacity = '0'; // Скрываем легкие, если молекула выходит за пределы мембраны
            interferons.style.opacity = '0'; // Скрываем интерфероны, если молекула выходит за пределы мембраны
          }
        }
      }
    });
  </script>

</body>
</html>





















<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Based Animation</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      height: 4000px; /* Высота страницы для прокрутки */
      overflow-x: hidden;
      background-color: #f0f0f0;
    }

    .section {
      height: auto;
      position: relative;
    }

    /* Контейнер блока с анимацией */
    #anim-block {
      position: relative;
      height: 1000px;
      background-color: #fff;
    }

    /* Мембрана (ширина 400px, высота 150px) */
    .membrane {
      width: 400px;
      height: 150px; /* Изменена высота мембраны */
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/membrane_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Мембрана скрыта по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out;
    }

    /* Молекула (ширина 150px) */
    .molecule {
      width: 150px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/mu_agonist_main.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 60px; /* Начальная позиция молекулы */
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Молекула скрыта по умолчанию */
      transition: top 1s ease-out, opacity 1s ease-out;
    }

    /* Легкие */
    .lungs {
      width: 400px;
      height: 400px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_treat_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 0%; /* Подняли на 20% от стандартной позиции */
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Легкие скрыты по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

    /* Интерфероны (ширина 400px) */
    .interferons {
      width: 400px; /* Изменена ширина интерферонов */
      height: 300px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/interferons.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 0%; /* Подняли на 20% от стандартной позиции */
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Интерфероны скрыты по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

  </style>
</head>
<body>

  <div class="section">Секция 1</div>
  <div class="section">Секция 2</div>

  <div class="section" id="anim-block">
    <div class="membrane"></div>
    <div class="molecule"></div>
    <div class="lungs"></div>
    <div class="interferons"></div>
  </div>

  <div class="section">Секция 4</div>
  <div class="section">Секция 5</div>
  <div class="section">Секция 6</div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const animBlock = document.getElementById('anim-block');
      const molecule = document.querySelector('.molecule');
      const membrane = document.querySelector('.membrane');
      const lungs = document.querySelector('.lungs');
      const interferons = document.querySelector('.interferons');
      
      let isInView = false; // Флаг для проверки видимости блока

      const options = {
        root: null, // Используем viewport
        rootMargin: "0px",
        threshold: 0.1 // Блок считается видимым, если 10% его содержимого видно
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            isInView = true;
            startAnimation(); // Запуск анимации, когда блок в зоне видимости
          } else {
            isInView = false;
            resetAnimation(); // Сброс анимации, если блок выходит из зоны видимости
          }
        });
      }, options);

      observer.observe(animBlock); // Начинаем отслеживание блока

      // Функция для старта анимации
      function startAnimation() {
        window.addEventListener('scroll', moveElements);
        molecule.style.opacity = '1'; // Показываем молекулу сразу
      }

      // Функция для сброса анимации
      function resetAnimation() {
        window.removeEventListener('scroll', moveElements);
        molecule.style.top = '60px'; // Возвращаем молекулу на начальную позицию
        molecule.style.opacity = '0'; // Скрываем молекулу
        membrane.style.opacity = '0'; // Скрываем мембрану
        lungs.style.opacity = '0'; // Скрываем легкие
        interferons.style.opacity = '0'; // Скрываем интерфероны
        lungs.style.top = '100%';
        lungs.style.left = '50%';
        interferons.style.top = '100%';
        interferons.style.left = '50%';
      }

      // Функция для движения молекулы, мембраны, лёгких и интерферонов при прокрутке
      function moveElements() {
        if (!isInView) return;

        // Получаем текущую прокрутку
        let scrollPosition = window.scrollY;
        let blockTop = animBlock.offsetTop;
        let blockHeight = animBlock.offsetHeight;

        // Проверка, насколько прокручен блок
        let scrollInsideBlock = scrollPosition - blockTop;

        // Если прокрутка находится в пределах блока, то двигаем молекулу и мембрану
        if (scrollInsideBlock >= 0 && scrollInsideBlock <= blockHeight) {
          let percentage = scrollInsideBlock / blockHeight; // Процент прокрутки внутри блока
          let newMoleculeTop = 60 + (percentage * (blockHeight - 60)); // Двигаем молекулу от 60px до нижней границы блока
          molecule.style.top = `${newMoleculeTop}px`;

          // Появление мембраны сразу при начале прокрутки
          if (newMoleculeTop >= 60) {
            membrane.style.opacity = '1'; // Мембрана появляется
          }

          // Расширяем зону действия молекулы в мембране
          // Когда молекула находится в пределах мембраны (больше чем просто попасть в верхнюю границу мембраны), показываем элементы
          if (newMoleculeTop >= membrane.offsetTop - 100 && newMoleculeTop <= membrane.offsetTop + membrane.offsetHeight + 100) {
            lungs.style.opacity = '1'; // Появляются легкие
            lungs.style.top = '40%'; // Легкие двигаются вверх на 20% (30% от верха экрана)
            lungs.style.left = '20%'; // Легкие сдвигаются влево

            interferons.style.opacity = '1'; // Появляются интерфероны
            interferons.style.top = '40%'; // Интерфероны двигаются вверх на 20% (30% от верха экрана)
            interferons.style.left = '80%'; // Интерфероны сдвигаются вправо
          } else {
            lungs.style.opacity = '0'; // Скрываем легкие, если молекула выходит за пределы мембраны
            interferons.style.opacity = '0'; // Скрываем интерфероны, если молекула выходит за пределы мембраны
          }
        }
      }
    });
  </script>

</body>
</html>

























<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Based Animation</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      height: 4000px; /* Высота страницы для прокрутки */
      overflow-x: hidden;
      background-color: #f0f0f0;
    }

    .section {
      height: auto;
      position: relative;
    }

    /* Контейнер блока с анимацией */
    #anim-block {
      position: relative;
      height: 1000px;
      background-color: #fff;
    }

    /* Мембрана (ширина 400px, высота 150px) */
    .membrane {
      width: 400px;
      height: 150px; /* Изменена высота мембраны */
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/membrane_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Мембрана скрыта по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out;
    }

    /* Молекула (ширина 150px) */
    .molecule {
      width: 150px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/mu_agonist_main.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 60px; /* Начальная позиция молекулы */
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Молекула скрыта по умолчанию */
      transition: top 1s ease-out, opacity 1s ease-out;
    }

    /* Легкие (две картинки с чередованием) */
    .lungs {
      width: 400px;
      height: 400px;
      position: absolute;
      top: 0%; /* Подняли на 20% от стандартной позиции */
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Легкие скрыты по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
      position: relative;
    }

    .lungs img {
      width: 100%;
      height: auto;
      object-fit: contain;
      position: absolute; /* Чтобы изображения налегали друг на друга */
      top: 0;
      left: 0;
      opacity: 0;
      animation: lungsImageChange 6s ease-in-out infinite;
    }

    .lungs img:first-child {
      opacity: 1;
      animation-delay: 0s; /* Первое изображение появляется первым */
    }

    .lungs img:last-child {
      opacity: 0;
      animation-delay: 3s; /* Второе изображение появляется позже */
    }

    /* Интерфероны (ширина 400px) */
    .interferons {
      width: 400px; /* Изменена ширина интерферонов */
      height: 300px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/interferons.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 0%; /* Подняли на 20% от стандартной позиции */
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Интерфероны скрыты по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

    /* Анимация чередования картинок легких */
    @keyframes lungsImageChange {
      0%, 100% {
        opacity: 1; /* Первое изображение становится видимым */
      }
      50% {
        opacity: 0; /* Первое изображение исчезает */
      }
    }
  </style>
</head>
<body>

  <div class="section">Секция 1</div>
  <div class="section">Секция 2</div>

  <div class="section" id="anim-block">
    <div class="membrane"></div>
    <div class="molecule"></div>
    
    <!-- Блок с легкими и их изображениями -->
    <div class="lungs">
      <img src="https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_treat_main.png" alt="lungs with cytokines">
      <img src="https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_clean_main.png" alt="lungs without cytokines">
    </div>
    
    <div class="interferons"></div>
  </div>

  <div class="section">Секция 4</div>
  <div class="section">Секция 5</div>
  <div class="section">Секция 6</div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const animBlock = document.getElementById('anim-block');
      const molecule = document.querySelector('.molecule');
      const membrane = document.querySelector('.membrane');
      const lungs = document.querySelector('.lungs');
      const interferons = document.querySelector('.interferons');
      
      let isInView = false; // Флаг для проверки видимости блока

      const options = {
        root: null, // Используем viewport
        rootMargin: "0px",
        threshold: 0.1 // Блок считается видимым, если 10% его содержимого видно
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            isInView = true;
            startAnimation(); // Запуск анимации, когда блок в зоне видимости
          } else {
            isInView = false;
            resetAnimation(); // Сброс анимации, если блок выходит из зоны видимости
          }
        });
      }, options);

      observer.observe(animBlock); // Начинаем отслеживание блока

      // Функция для старта анимации
      function startAnimation() {
        window.addEventListener('scroll', moveElements);
        molecule.style.opacity = '1'; // Показываем молекулу сразу
      }

      // Функция для сброса анимации
      function resetAnimation() {
        window.removeEventListener('scroll', moveElements);
        molecule.style.top = '60px'; // Возвращаем молекулу на начальную позицию
        molecule.style.opacity = '0'; // Скрываем молекулу
        membrane.style.opacity = '0'; // Скрываем мембрану
        lungs.style.opacity = '0'; // Скрываем легкие
        interferons.style.opacity = '0'; // Скрываем интерфероны
        lungs.style.top = '100%';
        lungs.style.left = '50%';
        interferons.style.top = '100%';
        interferons.style.left = '50%';
      }

      // Функция для движения молекулы, мембраны, лёгких и интерферонов при прокрутке
      function moveElements() {
        if (!isInView) return;

        // Получаем текущую прокрутку
        let scrollPosition = window.scrollY;
        let blockTop = animBlock.offsetTop;
        let blockHeight = animBlock.offsetHeight;

        // Проверка, насколько прокручен блок
        let scrollInsideBlock = scrollPosition - blockTop;

        // Если прокрутка находится в пределах блока, то двигаем молекулу и мембрану
        if (scrollInsideBlock >= 0 && scrollInsideBlock <= blockHeight) {
          let percentage = scrollInsideBlock / blockHeight; // Процент прокрутки внутри блока
          let newMoleculeTop = 60 + (percentage * (blockHeight - 60)); // Двигаем молекулу от 60px до нижней границы блока
          molecule.style.top = `${newMoleculeTop}px`;

          // Появление мембраны сразу при начале прокрутки
          if (newMoleculeTop >= 60) {
            membrane.style.opacity = '1'; // Мембрана появляется
          }

          // Расширяем зону действия молекулы в мембране
          // Когда молекула находится в пределах мембраны (больше чем просто попасть в верхнюю границу мембраны), показываем элементы
          if (newMoleculeTop >= membrane.offsetTop - 100 && newMoleculeTop <= membrane.offsetTop + membrane.offsetHeight + 100) {
            lungs.style.opacity = '1'; // Появляются легкие
            lungs.style.top = '40%'; // Легкие двигаются вверх на 20% (30% от верха экрана)
            lungs.style.left = '20%'; // Легкие сдвигаются влево

            interferons.style.opacity = '1'; // Появляются интерфероны
            interferons.style.top = '40%'; // Интерфероны двигаются вверх на 20% (30% от верха экрана)
            interferons.style.left = '80%'; // Интерфероны сдвигаются вправо
          } else {
            lungs.style.opacity = '0'; // Скрываем легкие, если молекула выходит за пределы мембраны
            interferons.style.opacity = '0'; // Скрываем интерфероны, если молекула выходит за пределы мембраны
          }
        }
      }
    });
  </script>

</body>
</html>






































<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Based Animation</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      height: 4000px; /* Высота страницы для прокрутки */
      overflow-x: hidden;
      background-color: #f0f0f0;
    }

    .section {
      height: auto;
      position: relative;
    }

    /* Контейнер блока с анимацией */
    #anim-block {
      position: relative;
      height: 1000px;
      background-color: #fff;
    }

    /* Мембрана */
    .membrane {
      width: 400px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/membrane_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Мембрана скрыта по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out;
    }
    .membrane::after {
      content: 'Membrane cell';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Молекула */
    .molecule {
      width: 150px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/mu_agonist_main.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: top 1s ease-out, opacity 1s ease-out;
    }
    .molecule::after {
      content: 'Arvidal®';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Легкие */
    .lungs {
      width: 400px;
      height: 400px;
      position: absolute;
      top: 0%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
      position: relative;
    }
    .lungs img {
      width: 100%;
      height: auto;
      object-fit: contain;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      animation: lungsImageChange 6s ease-in-out infinite;
    }
    .lungs img:first-child {
      opacity: 1;
      animation-delay: 0s;
    }
    .lungs img:last-child {
      opacity: 0;
      animation-delay: 3s;
    }

    /* Интерфероны */
    .interferons {
      width: 400px;
      height: 300px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/interferons.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 0%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

    /* Карточка с описанием для легких */
    .lungs-description {
      position: absolute;
      bottom: -120px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 350px;
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transition: opacity 1s ease-out;
    }

    /* Карточка с описанием для интерферонов */
    .interferons-description {
      position: absolute;
      bottom: -120px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 350px;
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transition: opacity 1s ease-out;
    }

    /* Анимация чередования картинок легких */
    @keyframes lungsImageChange {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0;
      }
    }

  </style>
</head>
<body>

  <div class="section">Секция 1</div>
  <div class="section">Секция 2</div>

  <div class="section" id="anim-block">
    <div class="membrane"></div>
    <div class="molecule"></div>

    <!-- Блок с легкими и их изображениями, а также карточкой с описанием -->
    <div class="lungs">
      <img src="https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_treat_main.png" alt="lungs with cytokines">
      <img src="https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_clean_main.png" alt="lungs without cytokines">
      
      <!-- Карточка с описанием для легких -->
      <div class="lungs-description">
        Suppresses the hypersecretion of pro-inflammatory cytokines (such as IL-1, IL-6, and TNF-α), thereby reducing intoxication and controlling hyperinflammation with signs of cytokine storm and associated acute respiratory distress syndrome (ARDS).
        <br><br>
        Prevents lung damage, averting pneumonia.
      </div>
    </div>

    <!-- Блок с интерферонами, а также карточкой с описанием -->
    <div class="interferons">
      <!-- Карточка с описанием для интерферонов -->
      <div class="interferons-description">
        Stimulates the production of endogenous interferons at the early stages of infection.
        <br><br>
        Regulation of the phagocytic component activity of innate immunity (macrophages and neutrophils), along with the activity of lymphocytes – natural killers.
      </div>
    </div>
  </div>

  <div class="section">Секция 4</div>
  <div class="section">Секция 5</div>
  <div class="section">Секция 6</div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const animBlock = document.getElementById('anim-block');
      const molecule = document.querySelector('.molecule');
      const membrane = document.querySelector('.membrane');
      const lungs = document.querySelector('.lungs');
      const interferons = document.querySelector('.interferons');
      const lungsDescription = document.querySelector('.lungs-description');
      const interferonsDescription = document.querySelector('.interferons-description');
      
      let isInView = false; // Флаг для проверки видимости блока

      const options = {
        root: null, // Используем viewport
        rootMargin: "0px",
        threshold: 0.1 // Блок считается видимым, если 10% его содержимого видно
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            isInView = true;
            startAnimation(); // Запуск анимации, когда блок в зоне видимости
          } else {
            isInView = false;
            resetAnimation(); // Сброс анимации, если блок выходит из зоны видимости
          }
        });
      }, options);

      observer.observe(animBlock); // Начинаем отслеживание блока

      // Функция для старта анимации
      function startAnimation() {
        window.addEventListener('scroll', moveElements);
        molecule.style.opacity = '1'; // Показываем молекулу сразу
      }

      // Функция для сброса анимации
      function resetAnimation() {
        window.removeEventListener('scroll', moveElements);
        molecule.style.top = '60px'; // Возвращаем молекулу на начальную позицию
        molecule.style.opacity = '0'; // Скрываем молекулу
        membrane.style.opacity = '0'; // Скрываем мембрану
        lungs.style.opacity = '0'; // Скрываем легкие
        interferons.style.opacity = '0'; // Скрываем интерфероны
        lungsDescription.style.opacity = '0'; // Скрываем карточку с описанием легких
        interferonsDescription.style.opacity = '0'; // Скрываем карточку с описанием интерферонов
        lungs.style.top = '100%';
        lungs.style.left = '50%';
        interferons.style.top = '100%';
        interferons.style.left = '50%';
      }

      // Функция для движения молекулы, мембраны, лёгких и интерферонов при прокрутке
      function moveElements() {
        if (!isInView) return;

        // Получаем текущую прокрутку
        let scrollPosition = window.scrollY;
        let blockTop = animBlock.offsetTop;
        let blockHeight = animBlock.offsetHeight;

        // Проверка, насколько прокручен блок
        let scrollInsideBlock = scrollPosition - blockTop;

        // Если прокрутка находится в пределах блока, то двигаем молекулу и мембрану
        if (scrollInsideBlock >= 0 && scrollInsideBlock <= blockHeight) {
          let percentage = scrollInsideBlock / blockHeight; // Процент прокрутки внутри блока
          let newMoleculeTop = 60 + (percentage * (blockHeight - 60)); // Двигаем молекулу от 60px до нижней границы блока
          molecule.style.top = `${newMoleculeTop}px`;

          // Появление мембраны сразу при начале прокрутки
          if (newMoleculeTop >= 60) {
            membrane.style.opacity = '1'; // Мембрана появляется
          }

          // Расширяем зону действия молекулы в мембране
          if (newMoleculeTop >= membrane.offsetTop - 100 && newMoleculeTop <= membrane.offsetTop + membrane.offsetHeight + 100) {
            lungs.style.opacity = '1'; // Появляются легкие
            lungs.style.top = '40%'; // Легкие двигаются вверх
            lungs.style.left = '20%'; // Легкие сдвигаются влево
            lungsDescription.style.opacity = '1'; // Карточка с описанием легких появляется
            interferons.style.opacity = '1'; // Появляются интерфероны
            interferons.style.top = '40%';
            interferons.style.left = '80%';
            interferonsDescription.style.opacity = '1'; // Карточка с описанием интерферонов появляется
          } else {
            lungs.style.opacity = '0'; // Скрываем легкие, если молекула выходит за пределы мембраны
            interferons.style.opacity = '0'; // Скрываем интерфероны
            lungsDescription.style.opacity = '0'; // Скрываем карточку с описанием легких
            interferonsDescription.style.opacity = '0'; // Скрываем карточку с описанием интерферонов
          }
        }
      }
    });
  </script>

</body>
</html>

































<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Based Animation</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      height: 4000px; /* Высота страницы для прокрутки */
      overflow-x: hidden;
      background-color: #f0f0f0;
    }

    .section {
      height: auto;
      position: relative;
    }

    /* Контейнер блока с анимацией */
    #anim-block {
      position: relative;
      height: 1000px;
      background-color: #fff;
    }

    /* Мембрана */
    .membrane {
      width: 400px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/membrane_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Мембрана скрыта по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out;
    }
    .membrane::after {
      content: 'Membrane cell';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Молекула */
    .molecule {
      width: 150px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/mu_agonist_main.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: top 1s ease-out, opacity 1s ease-out;
    }
    .molecule::after {
      content: 'Arvidal®';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Легкие */
    .lungs {
      width: 400px;
      height: 400px;
      position: absolute;
      top: 0%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
      position: relative;
    }
    .lungs::after {
      content: 'Pro- inflammatory cytokines';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .lungs img {
      width: 100%;
      height: auto;
      object-fit: contain;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      animation: lungsImageChange 6s ease-in-out infinite;
    }
    .lungs img:first-child {
      opacity: 1;
      animation-delay: 3s;
    }
    .lungs img:last-child {
      opacity: 1;
      animation-delay: 1s;
    }

    /* Интерфероны */
    .interferons {
      width: 400px;
      height: 300px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/interferons.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 0%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

    /* Карточка с описанием для легких */
    .lungs-description {
      position: absolute;
      bottom: -120px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 350px;
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transition: opacity 1s ease-out;
    }

    /* Карточка с описанием для интерферонов */
    .interferons-description {
      position: absolute;
      bottom: -120px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 350px;
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transition: opacity 1s ease-out;
    }

    /* Анимация чередования картинок легких */
    @keyframes lungsImageChange {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0;
      }
    }

  </style>
</head>
<body>

  <div class="section">Секция 1</div>
  <div class="section">Секция 2</div>

  <div class="section" id="anim-block">
    <div class="membrane"></div>
    <div class="molecule"></div>

    <!-- Блок с легкими и их изображениями, а также карточкой с описанием -->
    <div class="lungs">
      <img src="https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_treat_main.png" alt="lungs with cytokines">
      <img src="https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_clean_main.png" alt="lungs without cytokines">
      
      <!-- Карточка с описанием для легких -->
      <div class="lungs-description">
        Suppresses the hypersecretion of pro-inflammatory cytokines (such as IL-1, IL-6, and TNF-α), thereby reducing intoxication and controlling hyperinflammation with signs of cytokine storm and associated acute respiratory distress syndrome (ARDS).
        <br><br>
        Prevents lung damage, averting pneumonia.
      </div>
    </div>

    <!-- Блок с интерферонами, а также карточкой с описанием -->
    <div class="interferons">
      <!-- Карточка с описанием для интерферонов -->
      <div class="interferons-description">
        Stimulates the production of endogenous interferons at the early stages of infection.
        <br><br>
        Regulation of the phagocytic component activity of innate immunity (macrophages and neutrophils), along with the activity of lymphocytes – natural killers.
      </div>
    </div>
  </div>

  <div class="section">Секция 4</div>
  <div class="section">Секция 5</div>
  <div class="section">Секция 6</div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const animBlock = document.getElementById('anim-block');
      const molecule = document.querySelector('.molecule');
      const membrane = document.querySelector('.membrane');
      const lungs = document.querySelector('.lungs');
      const interferons = document.querySelector('.interferons');
      const lungsDescription = document.querySelector('.lungs-description');
      const interferonsDescription = document.querySelector('.interferons-description');
      
      let isInView = false; // Флаг для проверки видимости блока

      const options = {
        root: null, // Используем viewport
        rootMargin: "0px",
        threshold: 0.1 // Блок считается видимым, если 10% его содержимого видно
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            isInView = true;
            startAnimation(); // Запуск анимации, когда блок в зоне видимости
          } else {
            isInView = false;
            resetAnimation(); // Сброс анимации, если блок выходит из зоны видимости
          }
        });
      }, options);

      observer.observe(animBlock); // Начинаем отслеживание блока

      // Функция для старта анимации
      function startAnimation() {
        window.addEventListener('scroll', moveElements);
        molecule.style.opacity = '1'; // Показываем молекулу сразу
      }

      // Функция для сброса анимации
      function resetAnimation() {
        window.removeEventListener('scroll', moveElements);
        molecule.style.top = '60px'; // Возвращаем молекулу на начальную позицию
        molecule.style.opacity = '0'; // Скрываем молекулу
        membrane.style.opacity = '0'; // Скрываем мембрану
        lungs.style.opacity = '0'; // Скрываем легкие
        interferons.style.opacity = '0'; // Скрываем интерфероны
        lungsDescription.style.opacity = '0'; // Скрываем карточку с описанием легких
        interferonsDescription.style.opacity = '0'; // Скрываем карточку с описанием интерферонов
        lungs.style.top = '100%';
        lungs.style.left = '50%';
        interferons.style.top = '100%';
        interferons.style.left = '50%';
      }

      // Функция для движения молекулы, мембраны, лёгких и интерферонов при прокрутке
      function moveElements() {
        if (!isInView) return;

        // Получаем текущую прокрутку
        let scrollPosition = window.scrollY;
        let blockTop = animBlock.offsetTop;
        let blockHeight = animBlock.offsetHeight;

        // Проверка, насколько прокручен блок
        let scrollInsideBlock = scrollPosition - blockTop;

        // Если прокрутка находится в пределах блока, то двигаем молекулу и мембрану
        if (scrollInsideBlock >= 0 && scrollInsideBlock <= blockHeight) {
          let percentage = scrollInsideBlock / blockHeight; // Процент прокрутки внутри блока
          let newMoleculeTop = 60 + (percentage * (blockHeight - 60)); // Двигаем молекулу от 60px до нижней границы блока
          molecule.style.top = `${newMoleculeTop}px`;

          // Появление мембраны сразу при начале прокрутки
          if (newMoleculeTop >= 60) {
            membrane.style.opacity = '1'; // Мембрана появляется
          }

          // Расширяем зону действия молекулы в мембране
          if (newMoleculeTop >= membrane.offsetTop - 100 && newMoleculeTop <= membrane.offsetTop + membrane.offsetHeight + 100) {
            lungs.style.opacity = '1'; // Появляются легкие
            lungs.style.top = '40%'; // Легкие двигаются вверх
            lungs.style.left = '20%'; // Легкие сдвигаются влево
            lungsDescription.style.opacity = '1'; // Карточка с описанием легких появляется
            interferons.style.opacity = '1'; // Появляются интерфероны
            interferons.style.top = '40%';
            interferons.style.left = '80%';
            interferonsDescription.style.opacity = '1'; // Карточка с описанием интерферонов появляется
          } else {
            lungs.style.opacity = '0'; // Скрываем легкие, если молекула выходит за пределы мембраны
            interferons.style.opacity = '0'; // Скрываем интерфероны
            lungsDescription.style.opacity = '0'; // Скрываем карточку с описанием легких
            interferonsDescription.style.opacity = '0'; // Скрываем карточку с описанием интерферонов
          }
        }
      }
    });
  </script>

</body>
</html>









































<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Based Animation</title>
  <style>
    /* Изолированные стили с уникальными префиксами */
    body {
      margin: 0;
      height: 4000px; /* Высота страницы для прокрутки */
      overflow-x: hidden;
      background-color: #f0f0f0;
    }

    .scroll-animation-section {
      position: relative;
    }

    /* Контейнер блока с анимацией */
    .scroll-animation-block {
      position: relative;
      height: 1000px;
      background-color: #fff;
    }

    /* Мембрана */
    .scroll-membrane {
      width: 400px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/membrane_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Мембрана скрыта по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out;
    }
    .scroll-membrane::after {
      content: 'Membrane cell';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Молекула */
    .scroll-molecule {
      width: 150px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/mu_agonist_main.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: top 1s ease-out, opacity 1s ease-out;
    }
    .scroll-molecule::after {
      content: 'Arvidal®';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Легкие */
    .scroll-lungs {
      width: 400px;
      height: 400px;
      position: absolute;
      top: 0%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
      position: relative;
    }
    .scroll-lungs::after {
      content: 'Pro- inflammatory cytokines';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .scroll-lungs img {
      width: 100%;
      height: auto;
      object-fit: contain;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      animation: lungsImageChange 6s ease-in-out infinite;
    }
    .scroll-lungs img:first-child {
      opacity: 1;
      animation-delay: 3s;
    }
    .scroll-lungs img:last-child {
      opacity: 1;
      animation-delay: 1s;
    }

    /* Интерфероны */
    .scroll-interferons {
      width: 400px;
      height: 300px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/interferons.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 0%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

    /* Карточка с описанием для легких */
    .scroll-lungs-description {
      position: absolute;
      bottom: -120px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 350px;
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transition: opacity 1s ease-out;
    }

    /* Карточка с описанием для интерферонов */
    .scroll-interferons-description {
      position: absolute;
      bottom: -120px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 350px;
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transition: opacity 1s ease-out;
    }

    /* Анимация чередования картинок легких */
    @keyframes lungsImageChange {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0;
      }
    }

  </style>
</head>
<body>

  <div class="scroll-animation-section">
    <div class="scroll-animation-block">
      <div class="scroll-membrane"></div>
      <div class="scroll-molecule"></div>

      <!-- Блок с легкими и их изображениями, а также карточкой с описанием -->
      <div class="scroll-lungs">
        <img src="https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_treat_main.png" alt="lungs with cytokines">
        <img src="https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_clean_main.png" alt="lungs without cytokines">
        <div class="scroll-lungs-description">
          Suppresses the hypersecretion of pro-inflammatory cytokines (such as IL-1, IL-6, and TNF-α), thereby reducing intoxication and controlling hyperinflammation with signs of cytokine storm and associated acute respiratory distress syndrome (ARDS).
          <br><br>
          Prevents lung damage, averting pneumonia.
        </div>
      </div>

      <!-- Блок с интерферонами, а также карточкой с описанием -->
      <div class="scroll-interferons">
        <div class="scroll-interferons-description">
          Stimulates the production of endogenous interferons at the early stages of infection.
          <br><br>
          Regulation of the phagocytic component activity of innate immunity (macrophages and neutrophils), along with the activity of lymphocytes – natural killers.
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const animBlock = document.querySelector('.scroll-animation-block');
      const molecule = document.querySelector('.scroll-molecule');
      const membrane = document.querySelector('.scroll-membrane');
      const lungs = document.querySelector('.scroll-lungs');
      const interferons = document.querySelector('.scroll-interferons');
      const lungsDescription = document.querySelector('.scroll-lungs-description');
      const interferonsDescription = document.querySelector('.scroll-interferons-description');
      
      let isInView = false;

      const options = {
        root: null, // viewport
        rootMargin: "0px",
        threshold: 0.1
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            isInView = true;
            startAnimation();
          } else {
            isInView = false;
            resetAnimation();
          }
        });
      }, options);

      observer.observe(animBlock);

      function startAnimation() {
        window.addEventListener('scroll', moveElements);
        molecule.style.opacity = '1';
      }

      function resetAnimation() {
        window.removeEventListener('scroll', moveElements);
        molecule.style.top = '60px';
        molecule.style.opacity = '0';
        membrane.style.opacity = '0';
        lungs.style.opacity = '0';
        interferons.style.opacity = '0';
        lungsDescription.style.opacity = '0';
        interferonsDescription.style.opacity = '0';
        lungs.style.top = '100%';
        lungs.style.left = '50%';
        interferons.style.top = '100%';
        interferons.style.left = '50%';
      }

      function moveElements() {
        if (!isInView) return;

        let scrollPosition = window.scrollY;
        let blockTop = animBlock.offsetTop;
        let blockHeight = animBlock.offsetHeight;

        let scrollInsideBlock = scrollPosition - blockTop;

        if (scrollInsideBlock >= 0 && scrollInsideBlock <= blockHeight) {
          let percentage = scrollInsideBlock / blockHeight;
          let newMoleculeTop = 60 + (percentage * (blockHeight - 60));
          molecule.style.top = `${newMoleculeTop}px`;

          if (newMoleculeTop >= 60) {
            membrane.style.opacity = '1';
          }

          if (newMoleculeTop >= membrane.offsetTop - 100 && newMoleculeTop <= membrane.offsetTop + membrane.offsetHeight + 100) {
            lungs.style.opacity = '1';
            lungs.style.top = '40%';
            lungs.style.left = '20%';
            lungsDescription.style.opacity = '1';
            interferons.style.opacity = '1';
            interferons.style.top = '40%';
            interferons.style.left = '80%';
            interferonsDescription.style.opacity = '1';
          } else {
            lungs.style.opacity = '0';
            interferons.style.opacity = '0';
            lungsDescription.style.opacity = '0';
            interferonsDescription.style.opacity = '0';
          }
        }
      }
    });
  </script>

</body>
</html>







































<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Based Animation</title>
  <style>
    /* Изолированные стили с уникальными префиксами */
    body {
      margin: 0;
      overflow-x: hidden;
    }

    .scroll-animation-section {
      position: relative;
    }

    /* Контейнер блока с анимацией */
    .scroll-animation-block {
      position: relative;
      height: 1000px;
      background-color: #fff;
    }

    /* Мембрана */
    .scroll-membrane {
      width: 400px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/membrane_main.png') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0; /* Мембрана скрыта по умолчанию */
      transition: opacity 1s ease-out, top 1s ease-out;
    }
    .scroll-membrane::after {
      content: 'Membrane cell';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Молекула */
    .scroll-molecule {
      width: 150px;
      height: 150px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/mu_agonist_main.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: top 1s ease-out, opacity 1s ease-out;
    }
    .scroll-molecule::after {
      content: 'Arvidal®';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Легкие */
    .scroll-lungs {
      width: 400px;
      height: 400px;
      position: absolute;
      top: 0%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
      position: relative;
    }
    .scroll-lungs::after {
      content: 'Pro- inflammatory cytokines';
      position: absolute;
      font-size: 16px;
      color: #333;
      background-color: #f9f9f9;
      padding: 8px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .scroll-lungs img {
      width: 100%;
      height: auto;
      object-fit: contain;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      animation: lungsImageChange 6s ease-in-out infinite;
    }
    .scroll-lungs img:first-child {
      opacity: 1;
      animation-delay: 3s;
    }
    .scroll-lungs img:last-child {
      opacity: 1;
      animation-delay: 1s;
    }

    /* Интерфероны */
    .scroll-interferons {
      width: 400px;
      height: 300px;
      background: url('https://pandadevelopmentcompany.github.io/arvidal_assets/interferons.svg') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 0%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 1s ease-out, top 1s ease-out, left 1s ease-out;
    }

    /* Карточка с описанием для легких */
    .scroll-lungs-description {
      position: absolute;
      bottom: -120px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 350px;
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transition: opacity 1s ease-out;
    }

    /* Карточка с описанием для интерферонов */
    .scroll-interferons-description {
      position: absolute;
      bottom: -120px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 350px;
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transition: opacity 1s ease-out;
    }

    /* Анимация чередования картинок легких */
    @keyframes lungsImageChange {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0;
      }
    }

  </style>
</head>

  <div class="scroll-animation-section">
    <div class="scroll-animation-block">
      <div class="scroll-membrane"></div>
      <div class="scroll-molecule"></div>

      <!-- Блок с легкими и их изображениями, а также карточкой с описанием -->
      <div class="scroll-lungs">
        <img src="https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_treat_main.png" alt="lungs with cytokines">
        <img src="https://pandadevelopmentcompany.github.io/arvidal_assets/lungs_clean_main.png" alt="lungs without cytokines">
        <div class="scroll-lungs-description">
          Suppresses the hypersecretion of pro-inflammatory cytokines (such as IL-1, IL-6, and TNF-α), thereby reducing intoxication and controlling hyperinflammation with signs of cytokine storm and associated acute respiratory distress syndrome (ARDS).
          <br><br>
          Prevents lung damage, averting pneumonia.
        </div>
      </div>

      <!-- Блок с интерферонами, а также карточкой с описанием -->
      <div class="scroll-interferons">
        <div class="scroll-interferons-description">
          Stimulates the production of endogenous interferons at the early stages of infection.
          <br><br>
          Regulation of the phagocytic component activity of innate immunity (macrophages and neutrophils), along with the activity of lymphocytes – natural killers.
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const animBlock = document.querySelector('.scroll-animation-block');
      const molecule = document.querySelector('.scroll-molecule');
      const membrane = document.querySelector('.scroll-membrane');
      const lungs = document.querySelector('.scroll-lungs');
      const interferons = document.querySelector('.scroll-interferons');
      const lungsDescription = document.querySelector('.scroll-lungs-description');
      const interferonsDescription = document.querySelector('.scroll-interferons-description');
      
      let isInView = false;

      const options = {
        root: null, // viewport
        rootMargin: "0px",
        threshold: 0.1
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            isInView = true;
            startAnimation();
          } else {
            isInView = false;
            resetAnimation();
          }
        });
      }, options);

      observer.observe(animBlock);

      function startAnimation() {
        window.addEventListener('scroll', moveElements);
        molecule.style.opacity = '1';
      }

      function resetAnimation() {
        window.removeEventListener('scroll', moveElements);
        molecule.style.top = '60px';
        molecule.style.opacity = '0';
        membrane.style.opacity = '0';
        lungs.style.opacity = '0';
        interferons.style.opacity = '0';
        lungsDescription.style.opacity = '0';
        interferonsDescription.style.opacity = '0';
        lungs.style.top = '100%';
        lungs.style.left = '50%';
        interferons.style.top = '100%';
        interferons.style.left = '50%';
      }

      function moveElements() {
        if (!isInView) return;

        let scrollPosition = window.scrollY;
        let blockTop = animBlock.offsetTop;
        let blockHeight = animBlock.offsetHeight;

        let scrollInsideBlock = scrollPosition - blockTop;

        if (scrollInsideBlock >= 0 && scrollInsideBlock <= blockHeight) {
          let percentage = scrollInsideBlock / blockHeight;
          let newMoleculeTop = 60 + (percentage * (blockHeight - 60));
          molecule.style.top = `${newMoleculeTop}px`;

          if (newMoleculeTop >= 60) {
            membrane.style.opacity = '1';
          }

          if (newMoleculeTop >= membrane.offsetTop - 100 && newMoleculeTop <= membrane.offsetTop + membrane.offsetHeight + 100) {
            lungs.style.opacity = '1';
            lungs.style.top = '40%';
            lungs.style.left = '20%';
            lungsDescription.style.opacity = '1';
            interferons.style.opacity = '1';
            interferons.style.top = '40%';
            interferons.style.left = '80%';
            interferonsDescription.style.opacity = '1';
          } else {
            lungs.style.opacity = '0';
            interferons.style.opacity = '0';
            lungsDescription.style.opacity = '0';
            interferonsDescription.style.opacity = '0';
          }
        }
      }
    });
  </script>

</body>
</html>
